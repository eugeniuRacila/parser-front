{"version":3,"sources":["hooks/useToken.js","components/Authentication/Authentication.js","assets/icons/search.svg","components/SearchBar/SearchBar.js","components/AlternativeShop/AlternativeShop.js","components/ProductPage/ProductPage.js","App.js","reportWebVitals.js","index.js"],"names":["useToken","useState","tokenString","localStorage","getItem","console","log","JSON","parse","token","setToken","setItem","stringify","authenticationRequest","a","username","password","axios","post","process","userName","Authentication","setUserName","setPassword","handleSubmit","e","preventDefault","data","status","error","className","onSubmit","action","htmlFor","id","onChange","target","value","placeholder","type","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","SvgSearch","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","ForwardRef","SearchBar","history","useHistory","cache","setCache","setIsLoading","suggestions","setSuggestions","searchValue","setSearchValue","inputProps","event","newValue","onSuggestionsClearRequested","onSuggestionsFetchRequested","inputValue","cacheKey","trim","toLowerCase","get","headers","Authorization","then","prevCache","fetchSuggestions","onSuggestionSelected","suggestionValue","push","getSuggestionValue","suggestion","label","renderSuggestion","to","AlternativeShop","availableVolumes","logoSrc","products","name","price","url","isOpened","setIsOpened","src","alt","map","size","onClick","shopNames","ProductPage","useParams","setData","imgUrl","setImgUrl","productName","setProductName","findAndSetImgUrl","shopName","pathToImage","findAndSetProductName","useEffect","result","fetchData","App","tokenExpirationDate","atob","split","exp","getTokenExpirationDate","Date","now","checkIfTokenIsExpired","removeItem","component","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.376dde07.chunk.js","sourcesContent":["import { useState } from \"react\";\r\n\r\nexport default function useToken() {\r\n  const getToken = () => {\r\n    const tokenString = localStorage.getItem(\"token\");\r\n    console.log(\"getToken\", tokenString);\r\n    const token = JSON.parse(tokenString);\r\n    return token;\r\n  };\r\n\r\n  const [token, setToken] = useState(getToken);\r\n\r\n  const saveToken = (token) => {\r\n    console.log(\"Setting the token\", token);\r\n    localStorage.setItem(\"token\", JSON.stringify(token));\r\n    setToken(token);\r\n  };\r\n\r\n  return {\r\n    setToken: saveToken,\r\n    token,\r\n  };\r\n}\r\n","import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\n\r\nimport \"./styles.css\";\r\n\r\nconst authenticationRequest = async ({ username, password }) => {\r\n  return await axios.post(\r\n    `${process.env.REACT_APP_SERVER_URL}api/Authenticate`,\r\n    {\r\n      userName: username,\r\n      password,\r\n    }\r\n  );\r\n};\r\n\r\nconst Authentication = ({ setToken }) => {\r\n  const [username, setUserName] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const {\r\n        data: { token },\r\n        status,\r\n      } = await authenticationRequest({\r\n        username,\r\n        password,\r\n      });\r\n\r\n      console.log(\"result\", status);\r\n      console.log(\"token\", token);\r\n\r\n      if (status === 200) {\r\n        console.log(\"setToken(token);\");\r\n        setToken(token);\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n      console.log(\"Wrong credentials\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"authentication\" onSubmit={handleSubmit}>\r\n      <form action=\"\" className=\"authentication__form\">\r\n        <div className=\"authentication__input-wrapper\">\r\n          <label className=\"authentication__label\" htmlFor=\"username\">\r\n            Username\r\n          </label>\r\n          <input\r\n            className=\"authentication__input\"\r\n            id=\"username\"\r\n            onChange={(e) => setUserName(e.target.value)}\r\n            placeholder=\"Enter your username\"\r\n            type=\"text\"\r\n          />\r\n        </div>\r\n        <div className=\"authentication__input-wrapper\">\r\n          <label className=\"authentication__label\" htmlFor=\"password\">\r\n            Password\r\n          </label>\r\n          <input\r\n            className=\"authentication__input\"\r\n            id=\"password\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            placeholder=\"Enter your password\"\r\n            type=\"password\"\r\n          />\r\n        </div>\r\n        <button className=\"authentication__submit\" type=\"submit\">\r\n          Sign in\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Authentication;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 19L14.65 14.65M17 9C17 13.4183 13.4183 17 9 17C4.58172 17 1 13.4183 1 9C1 4.58172 4.58172 1 9 1C13.4183 1 17 4.58172 17 9Z\",\n  stroke: \"#C1C1C1\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.ca6a2bd6.svg\";\nexport { ForwardRef as ReactComponent };","import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport Autosuggest from \"react-autosuggest\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport { ReactComponent as SearchIcon } from \"../../assets/icons/search.svg\";\r\nimport \"./styles.css\";\r\n\r\nconst SearchBar = ({ token }) => {\r\n  let history = useHistory();\r\n  const [cache, setCache] = useState({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n\r\n  const getSuggestionValue = (suggestion) => suggestion.label;\r\n\r\n  // Use your imagination to render suggestions.\r\n  const renderSuggestion = (suggestion) => (\r\n    <Link to={`/parser-front/products/${suggestion.label}`}>\r\n      {suggestion.label}\r\n    </Link>\r\n  );\r\n\r\n  const fetchSuggestions = (inputValue) => {\r\n    const cacheKey = inputValue.trim().toLowerCase();\r\n\r\n    if (cache[cacheKey]) {\r\n      setSuggestions(cache[cacheKey]);\r\n    } else {\r\n      setIsLoading(true);\r\n\r\n      axios\r\n        .get(\r\n          `${\r\n            process.env.REACT_APP_SERVER_URL\r\n          }api/suggestions/${inputValue.trim().toLowerCase()}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          }\r\n        )\r\n        .then(({ data }) => {\r\n          setSuggestions(data);\r\n          setCache((prevCache) => ({ ...prevCache, [cacheKey]: data }));\r\n          setIsLoading(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  const onChange = (event, { newValue }) => {\r\n    setSearchValue(newValue);\r\n  };\r\n\r\n  const onSuggestionSelected = (event, { suggestionValue }) => {\r\n    event.preventDefault();\r\n    history.push(`/parser-front/products/${suggestionValue}`);\r\n  };\r\n\r\n  const onSuggestionsFetchRequested = ({ value }) => {\r\n    fetchSuggestions(value);\r\n  };\r\n\r\n  const onSuggestionsClearRequested = () => {\r\n    setSuggestions([]);\r\n  };\r\n\r\n  const inputProps = {\r\n    placeholder: \"Type product name\",\r\n    value: searchValue,\r\n    onChange,\r\n  };\r\n\r\n  return (\r\n    <div className=\"search-bar__container\">\r\n      <div className=\"search-bar__icon\">\r\n        <SearchIcon />\r\n      </div>\r\n      <Autosuggest\r\n        inputProps={inputProps}\r\n        onSuggestionsClearRequested={onSuggestionsClearRequested}\r\n        onSuggestionsFetchRequested={onSuggestionsFetchRequested}\r\n        onSuggestionSelected={onSuggestionSelected}\r\n        getSuggestionValue={getSuggestionValue}\r\n        renderSuggestion={renderSuggestion}\r\n        suggestions={suggestions}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import React, { useState } from \"react\";\r\nimport { Collapse } from \"react-collapse\";\r\n\r\nimport \"./styles.css\";\r\n\r\nconst AlternativeShop = ({\r\n  availableVolumes,\r\n  logoSrc,\r\n  name,\r\n  price,\r\n  products,\r\n  url = \"#\",\r\n}) => {\r\n  const [isOpened, setIsOpened] = useState(false);\r\n\r\n  return (\r\n    <div className=\"alternative-shop\">\r\n      <div className=\"alternative-shop__header\">\r\n        <div className=\"alternative-shop__logo\">\r\n          <img\r\n            src={`/parser-front/images/logos/${logoSrc}`}\r\n            alt=\"\"\r\n            className=\"alternative-shop__logo-image\"\r\n          />\r\n        </div>\r\n        <h2 className=\"alternative-shop__product-name\">{products[0]?.name}</h2>\r\n        <div className=\"alternative-shop__available-volumes\">\r\n          {products?.map(({ size }) => (\r\n            <p className=\"alternative-shop__volume\">{size}</p>\r\n          ))}\r\n        </div>\r\n        {products.length > 0 && (\r\n          <button\r\n            className=\"alternative-shop__toggle\"\r\n            onClick={() => setIsOpened(!isOpened)}\r\n          >\r\n            Toggle\r\n          </button>\r\n        )}\r\n      </div>\r\n      {products.length > 0 && (\r\n        <Collapse isOpened={isOpened}>\r\n          <div className=\"alternative-shop__body\">\r\n            {products?.map(({ name, price, size }) => (\r\n              <div className=\"alternative-shop__volume-details\">\r\n                <h3 className=\"alternative-shop__product-name\">{name}</h3>\r\n                <p className=\"alternative-shop__volume\">{size}</p>\r\n                <p className=\"alternative-shop__product-price\">{price} kr.</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </Collapse>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AlternativeShop;\r\n","import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport useToken from \"../../hooks/useToken\";\r\nimport AlternativeShop from \"../AlternativeShop/AlternativeShop\";\r\nimport mockup from \"./mockup\";\r\nimport data from \"./realMockup\";\r\n\r\nimport \"./styles.css\";\r\n\r\nconst shopNames = [\r\n  \"flugger.dk\",\r\n  \"flugger-helsingor.dk\",\r\n  \"www.maling-halvpris.dk\",\r\n  \"www.flugger-horsens.dk\",\r\n];\r\n\r\nconst ProductPage = () => {\r\n  let { name } = useParams();\r\n  const [data, setData] = useState();\r\n  const [imgUrl, setImgUrl] = useState(\"\");\r\n  const [productName, setProductName] = useState(\"\");\r\n  const { token, setToken } = useToken();\r\n\r\n  console.log(\"ProductPage -> token\", token);\r\n\r\n  const findAndSetImgUrl = (data) => {\r\n    shopNames.map((shopName) => {\r\n      if (data[shopName].length && data[shopName][0].pathToImage !== \"No data\")\r\n        setImgUrl(data[shopName][0].pathToImage);\r\n      return;\r\n    });\r\n  };\r\n\r\n  const findAndSetProductName = (data) => {\r\n    shopNames.map((shopName) => {\r\n      if (data[shopName].length) {\r\n        setProductName(data[shopName][0].name);\r\n        return;\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const result = await axios.get(\r\n        `${process.env.REACT_APP_SERVER_URL}api/products/${name}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n      console.log(\"fetched data\", result.data);\r\n      setData(result.data);\r\n      findAndSetImgUrl(result.data);\r\n      findAndSetProductName(result.data);\r\n    };\r\n\r\n    fetchData();\r\n  }, [name]);\r\n\r\n  return (\r\n    <div className=\"product\">\r\n      <div className=\"product-overview\">\r\n        <div className=\"product-overview__thumbnail\">\r\n          <img alt=\"\" className=\"product-overview__image\" src={imgUrl} />\r\n        </div>\r\n        <div className=\"product-overview__information\">\r\n          <h1 className=\"product-overview__name\">{productName}</h1>\r\n        </div>\r\n      </div>\r\n      <div className=\"product-prices\">\r\n        {data && data[shopNames[0]] && (\r\n          <AlternativeShop\r\n            key={shopNames[0]}\r\n            logoSrc={`${shopNames[0]}.png`}\r\n            products={data[shopNames[0]]}\r\n          />\r\n        )}\r\n\r\n        {data && data[shopNames[1]] && (\r\n          <AlternativeShop\r\n            key={shopNames[1]}\r\n            logoSrc={`${shopNames[1]}.png`}\r\n            products={data[shopNames[1]]}\r\n          />\r\n        )}\r\n\r\n        {data && data[shopNames[2]] && (\r\n          <AlternativeShop\r\n            key={shopNames[2]}\r\n            logoSrc={`${shopNames[2]}.png`}\r\n            products={data[shopNames[2]]}\r\n          />\r\n        )}\r\n\r\n        {data && data[shopNames[3]] && (\r\n          <AlternativeShop\r\n            key={shopNames[3]}\r\n            logoSrc={`${shopNames[3]}.png`}\r\n            products={data[shopNames[3]]}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductPage;\r\n","import { Route, Switch } from \"react-router-dom\";\n\nimport useToken from \"./hooks/useToken\";\n\nimport Authentication from \"./components/Authentication/Authentication\";\nimport SearchBar from \"./components/SearchBar/SearchBar\";\nimport ProductPage from \"./components/ProductPage/ProductPage\";\n\nimport \"./App.css\";\n\nfunction App() {\n  const { token, setToken } = useToken();\n\n  const getTokenExpirationDate = (token) =>\n    JSON.parse(atob(token?.split(\".\")[1]))?.exp;\n\n  const checkIfTokenIsExpired = (token) => {\n    if (!token) return true;\n    const tokenExpirationDate = getTokenExpirationDate(token);\n    return tokenExpirationDate && tokenExpirationDate <= Date.now() / 1000;\n  };\n\n  if (!token || checkIfTokenIsExpired(token)) {\n    console.log(\"Removing token\", token);\n    localStorage.removeItem(\"token\");\n    return (\n      <div className=\"auth\">\n        <Authentication setToken={setToken} />\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"search-bar\">\n        <SearchBar token={token} />\n      </div>\n      <Switch>\n        <Route\n          component={ProductPage}\n          path=\"/parser-front/products/:name\"\n          token={token}\n        />\n      </Switch>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}