{"version":3,"sources":["components/Authentication/Authentication.js","assets/icons/search.svg","components/SearchBar/SearchBar.js","components/AlternativeShop/AlternativeShop.js","components/ProductPage/ProductPage.js","App.js","hooks/useToken.js","reportWebVitals.js","index.js"],"names":["authenticationRequest","a","username","password","axios","post","process","userName","Authentication","setToken","useState","setUserName","setPassword","handleSubmit","e","preventDefault","token","data","status","console","log","error","className","onSubmit","action","htmlFor","id","onChange","target","value","placeholder","type","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","SvgSearch","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","ForwardRef","SearchBar","history","useHistory","cache","setCache","setIsLoading","suggestions","setSuggestions","searchValue","setSearchValue","inputProps","event","newValue","onSuggestionsClearRequested","onSuggestionsFetchRequested","inputValue","cacheKey","trim","toLowerCase","get","headers","Authorization","then","prevCache","fetchSuggestions","onSuggestionSelected","suggestionValue","push","getSuggestionValue","suggestion","label","renderSuggestion","to","AlternativeShop","availableVolumes","logoSrc","products","name","price","url","isOpened","setIsOpened","src","alt","map","size","onClick","shopNames","ProductPage","useParams","setData","imgUrl","setImgUrl","productName","setProductName","findAndSetImgUrl","shopName","pathToImage","findAndSetProductName","useEffect","result","fetchData","App","tokenString","localStorage","getItem","JSON","parse","setItem","stringify","useToken","tokenExpirationDate","atob","split","exp","getTokenExpirationDate","Date","now","checkIfTokenIsExpired","removeItem","component","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a2f67fc8.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\n\r\nimport \"./styles.css\";\r\n\r\nconst authenticationRequest = async ({ username, password }) => {\r\n  return await axios.post(\r\n    `${process.env.REACT_APP_SERVER_URL}api/Authentication`,\r\n    {\r\n      userName: username,\r\n      password,\r\n    }\r\n  );\r\n};\r\n\r\nconst Authentication = ({ setToken }) => {\r\n  const [username, setUserName] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const {\r\n        data: { token },\r\n        status,\r\n      } = await authenticationRequest({\r\n        username,\r\n        password,\r\n      });\r\n\r\n      console.log(\"result\", status);\r\n      console.log(\"token\", token);\r\n\r\n      if (status === 200) {\r\n        console.log(\"setToken(token);\");\r\n        setToken(token);\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n      console.log(\"Wrong credentials\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"authentication\" onSubmit={handleSubmit}>\r\n      <form action=\"\" className=\"authentication__form\">\r\n        <div className=\"authentication__input-wrapper\">\r\n          <label className=\"authentication__label\" htmlFor=\"username\">\r\n            Username\r\n          </label>\r\n          <input\r\n            className=\"authentication__input\"\r\n            id=\"username\"\r\n            onChange={(e) => setUserName(e.target.value)}\r\n            placeholder=\"Enter your username\"\r\n            type=\"text\"\r\n          />\r\n        </div>\r\n        <div className=\"authentication__input-wrapper\">\r\n          <label className=\"authentication__label\" htmlFor=\"password\">\r\n            Password\r\n          </label>\r\n          <input\r\n            className=\"authentication__input\"\r\n            id=\"password\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            placeholder=\"Enter your password\"\r\n            type=\"password\"\r\n          />\r\n        </div>\r\n        <button className=\"authentication__submit\" type=\"submit\">\r\n          Sign in\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Authentication;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 19L14.65 14.65M17 9C17 13.4183 13.4183 17 9 17C4.58172 17 1 13.4183 1 9C1 4.58172 4.58172 1 9 1C13.4183 1 17 4.58172 17 9Z\",\n  stroke: \"#C1C1C1\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.ca6a2bd6.svg\";\nexport { ForwardRef as ReactComponent };","import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport Autosuggest from \"react-autosuggest\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport { ReactComponent as SearchIcon } from \"../../assets/icons/search.svg\";\r\nimport \"./styles.css\";\r\n\r\nconst SearchBar = ({ token }) => {\r\n  let history = useHistory();\r\n  const [cache, setCache] = useState({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n\r\n  const getSuggestionValue = (suggestion) => suggestion.label;\r\n\r\n  // Use your imagination to render suggestions.\r\n  const renderSuggestion = (suggestion) => (\r\n    <Link to={`/products/${suggestion.label}`}>{suggestion.label}</Link>\r\n  );\r\n\r\n  const fetchSuggestions = (inputValue) => {\r\n    const cacheKey = inputValue.trim().toLowerCase();\r\n\r\n    if (cache[cacheKey]) {\r\n      setSuggestions(cache[cacheKey]);\r\n    } else {\r\n      setIsLoading(true);\r\n\r\n      axios\r\n        .get(\r\n          `${\r\n            process.env.REACT_APP_SERVER_URL\r\n          }api/suggestions/${inputValue.trim().toLowerCase()}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          }\r\n        )\r\n        .then(({ data }) => {\r\n          setSuggestions(data);\r\n          setCache((prevCache) => ({ ...prevCache, [cacheKey]: data }));\r\n          setIsLoading(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  const onChange = (event, { newValue }) => {\r\n    setSearchValue(newValue);\r\n  };\r\n\r\n  const onSuggestionSelected = (event, { suggestionValue }) => {\r\n    history.push(`/products/${suggestionValue}`);\r\n  };\r\n\r\n  const onSuggestionsFetchRequested = ({ value }) => {\r\n    fetchSuggestions(value);\r\n  };\r\n\r\n  const onSuggestionsClearRequested = () => {\r\n    setSuggestions([]);\r\n  };\r\n\r\n  const inputProps = {\r\n    placeholder: \"Type product name\",\r\n    value: searchValue,\r\n    onChange,\r\n  };\r\n\r\n  return (\r\n    <div className=\"search-bar__container\">\r\n      <div className=\"search-bar__icon\">\r\n        <SearchIcon />\r\n      </div>\r\n      <Autosuggest\r\n        inputProps={inputProps}\r\n        onSuggestionsClearRequested={onSuggestionsClearRequested}\r\n        onSuggestionsFetchRequested={onSuggestionsFetchRequested}\r\n        onSuggestionSelected={onSuggestionSelected}\r\n        getSuggestionValue={getSuggestionValue}\r\n        renderSuggestion={renderSuggestion}\r\n        suggestions={suggestions}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import React, { useState } from \"react\";\r\nimport { Collapse } from \"react-collapse\";\r\n\r\nimport \"./styles.css\";\r\n\r\nconst AlternativeShop = ({\r\n  availableVolumes,\r\n  logoSrc,\r\n  name,\r\n  price,\r\n  products,\r\n  url = \"#\",\r\n}) => {\r\n  const [isOpened, setIsOpened] = useState(false);\r\n\r\n  return (\r\n    <div className=\"alternative-shop\">\r\n      <div className=\"alternative-shop__header\">\r\n        <div className=\"alternative-shop__logo\">\r\n          <img\r\n            src={`/images/logos/${logoSrc}`}\r\n            alt=\"\"\r\n            className=\"alternative-shop__logo-image\"\r\n          />\r\n        </div>\r\n        <h2 className=\"alternative-shop__product-name\">{products[0]?.name}</h2>\r\n        <div className=\"alternative-shop__available-volumes\">\r\n          {products?.map(({ size }) => (\r\n            <p className=\"alternative-shop__volume\">{size}</p>\r\n          ))}\r\n        </div>\r\n        {products.length > 0 && (\r\n          <button\r\n            className=\"alternative-shop__toggle\"\r\n            onClick={() => setIsOpened(!isOpened)}\r\n          >\r\n            Toggle\r\n          </button>\r\n        )}\r\n      </div>\r\n      {products.length > 0 && (\r\n        <Collapse isOpened={isOpened}>\r\n          <div className=\"alternative-shop__body\">\r\n            {products?.map(({ name, price, size }) => (\r\n              <div className=\"alternative-shop__volume-details\">\r\n                <h3 className=\"alternative-shop__product-name\">{name}</h3>\r\n                <p className=\"alternative-shop__volume\">{size}</p>\r\n                <p className=\"alternative-shop__product-price\">{price} kr.</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </Collapse>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AlternativeShop;\r\n","import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport AlternativeShop from \"../AlternativeShop/AlternativeShop\";\r\nimport mockup from \"./mockup\";\r\nimport data from \"./realMockup\";\r\n\r\nimport \"./styles.css\";\r\n\r\nconst shopNames = [\r\n  \"flugger.dk\",\r\n  \"flugger-helsingor.dk\",\r\n  \"www.maling-halvpris.dk\",\r\n  \"www.flugger-horsens.dk\",\r\n];\r\n\r\nconst ProductPage = ({ token }) => {\r\n  let { name } = useParams();\r\n  const [data, setData] = useState();\r\n  const [imgUrl, setImgUrl] = useState(\"\");\r\n  const [productName, setProductName] = useState(\"\");\r\n\r\n  const findAndSetImgUrl = (data) => {\r\n    shopNames.map((shopName) => {\r\n      if (data[shopName].length && data[shopName][0].pathToImage !== \"No data\")\r\n        setImgUrl(data[shopName][0].pathToImage);\r\n      return;\r\n    });\r\n  };\r\n\r\n  const findAndSetProductName = (data) => {\r\n    shopNames.map((shopName) => {\r\n      if (data[shopName].length) {\r\n        setProductName(data[shopName][0].name);\r\n        return;\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const result = await axios.get(\r\n        `${process.env.REACT_APP_SERVER_URL}api/products/${name}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n      console.log(\"fetched data\", result.data);\r\n      setData(result.data);\r\n      findAndSetImgUrl(result.data);\r\n      findAndSetProductName(result.data);\r\n    };\r\n\r\n    fetchData();\r\n  }, [name]);\r\n\r\n  return (\r\n    <div className=\"product\">\r\n      <div className=\"product-overview\">\r\n        <div className=\"product-overview__thumbnail\">\r\n          <img alt=\"\" className=\"product-overview__image\" src={imgUrl} />\r\n        </div>\r\n        <div className=\"product-overview__information\">\r\n          <h1 className=\"product-overview__name\">{productName}</h1>\r\n        </div>\r\n      </div>\r\n      <div className=\"product-prices\">\r\n        {data && data[shopNames[0]] && (\r\n          <AlternativeShop\r\n            logoSrc={`${shopNames[0]}.png`}\r\n            products={data[shopNames[0]]}\r\n          />\r\n        )}\r\n\r\n        {data && data[shopNames[1]] && (\r\n          <AlternativeShop\r\n            logoSrc={`${shopNames[1]}.png`}\r\n            products={data[shopNames[1]]}\r\n          />\r\n        )}\r\n\r\n        {data && data[shopNames[2]] && (\r\n          <AlternativeShop\r\n            logoSrc={`${shopNames[2]}.png`}\r\n            products={data[shopNames[2]]}\r\n          />\r\n        )}\r\n\r\n        {data && data[shopNames[3]] && (\r\n          <AlternativeShop\r\n            logoSrc={`${shopNames[3]}.png`}\r\n            products={data[shopNames[3]]}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductPage;\r\n","import { Route, Switch } from \"react-router-dom\";\n\nimport useToken from \"./hooks/useToken\";\n\nimport Authentication from \"./components/Authentication/Authentication\";\nimport SearchBar from \"./components/SearchBar/SearchBar\";\nimport ProductPage from \"./components/ProductPage/ProductPage\";\n\nimport \"./App.css\";\n\nfunction App() {\n  const { token, setToken } = useToken();\n\n  const getTokenExpirationDate = (token) =>\n    JSON.parse(atob(token?.split(\".\")[1]))?.exp;\n\n  const checkIfTokenIsExpired = (token) => {\n    if (!token) return true;\n    const tokenExpirationDate = getTokenExpirationDate(token);\n    return tokenExpirationDate && tokenExpirationDate <= Date.now() / 1000;\n  };\n\n  if (!token || checkIfTokenIsExpired(token)) {\n    console.log(\"Removing token\", token);\n    localStorage.removeItem(\"token\");\n    return (\n      <div className=\"auth\">\n        <Authentication setToken={setToken} />\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"search-bar\">\n        <SearchBar token={token} />\n      </div>\n      <Switch>\n        <Route component={ProductPage} path=\"/products/:name\" token={token} />\n      </Switch>\n    </>\n  );\n}\n\nexport default App;\n","import { useState } from \"react\";\r\n\r\nexport default function useToken() {\r\n  const getToken = () => {\r\n    const tokenString = localStorage.getItem(\"token\");\r\n    console.log(\"getToken\", tokenString);\r\n    const token = JSON.parse(tokenString);\r\n    return token;\r\n  };\r\n\r\n  const [token, setToken] = useState(getToken);\r\n\r\n  const saveToken = (token) => {\r\n    console.log(\"Setting the token\", token);\r\n    localStorage.setItem(\"token\", JSON.stringify(token));\r\n    setToken(token);\r\n  };\r\n\r\n  return {\r\n    setToken: saveToken,\r\n    token,\r\n  };\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}